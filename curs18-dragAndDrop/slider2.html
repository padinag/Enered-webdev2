<!DOCTYPE html>
<html lang="en">

<head>
    <title>Patrat</title>
    <style>
        body {
            width: 100vw;
            height: 100vh;
            padding: 0;
            margin: 0;
        }

        div {
            width: 50px;
            height: 50px;
            border: 1px solid black;
            position: absolute;
        }
    </style>

    <script>
        document.addEventListener("DOMContentLoaded", start);
        var dx;
        var dy;
        var canDrag = false;
        var div;
        function start() {
            div = document.createElement("div");
            document.body.appendChild(div);
            div.addEventListener("mousedown", mouseDown);
            document.body.addEventListener("mousemove", mouseMove);
            document.body.addEventListener("mouseup", mouseUp);
        }

        function mouseDown(event) {
            WindowWidth = window.innerWidth;
            canDrag = true;
            var bBox = this.getBoundingClientRect();
            dx = event.clientX - bBox.x;
            dy = event.clientY - bBox.y;
        }


        function mouseMove(event) {
            if (canDrag) {
                var x = event.clientX - dx;
                div.style.left = `${x}px`;
                var y = event.clientY - dy;
                div.style.top = `${y}px`;

            }
        }

        function mouseUp(event) {
            canDrag = false;
        }

    </script>
</head>

<body>

</body>

</html>